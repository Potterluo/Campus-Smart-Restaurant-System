{"remainingRequest":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\springboot+vue\\pure-design-master\\vue\\src\\views\\Person.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\springboot+vue\\pure-design-master\\vue\\src\\views\\Person.vue","mtime":1651847645912},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651840057970},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1651840062270},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651840057970},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1651840061711}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7c2VydmVySXB9IGZyb20gIi4uLy4uL3B1YmxpYy9jb25maWciOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQZXJzb24iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZXJ2ZXJJcDogc2VydmVySXAsCiAgICAgIGZvcm06IHt9LAogICAgICB1c2VyOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKSA6IHt9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRVc2VyKCkudGhlbihyZXMgPT4gewogICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgIHRoaXMuZm9ybSA9IHJlcwogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldFVzZXIoKSB7CiAgICAgIHJldHVybiAoYXdhaXQgdGhpcy5yZXF1ZXN0LmdldCgiL3VzZXIvdXNlcm5hbWUvIiArIHRoaXMudXNlci51c2VybmFtZSkpLmRhdGEKICAgIH0sCiAgICBzYXZlKCkgewogICAgICB0aGlzLnJlcXVlc3QucG9zdCgiL3VzZXIiLCB0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09ICcyMDAnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpCgogICAgICAgICAgLy8g6Kem5Y+R54i257qn5pu05pawVXNlcueahOaWueazlQogICAgICAgICAgdGhpcy4kZW1pdCgicmVmcmVzaFVzZXIiKQoKICAgICAgICAgIC8vIOabtOaWsOa1j+iniOWZqOWtmOWCqOeahOeUqOaIt+S/oeaBrwogICAgICAgICAgdGhpcy5nZXRVc2VyKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICByZXMudG9rZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpLnRva2VuCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkocmVzKSkKICAgICAgICAgIH0pCgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLkv53lrZjlpLHotKUiKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVBdmF0YXJTdWNjZXNzKHJlcykgewogICAgICB0aGlzLmZvcm0uYXZhdGFyVXJsID0gcmVzCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Person.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Person.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <el-card style=\"width: 500px;\">\n    <el-form label-width=\"80px\" size=\"small\">\n      \n\n      <el-form-item label=\"用户名\">\n        <el-input v-model=\"form.username\" disabled autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"昵称\">\n        <el-input v-model=\"form.nickname\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"邮箱\">\n        <el-input v-model=\"form.email\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"电话\">\n        <el-input v-model=\"form.phone\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"地址\">\n        <el-input type=\"textarea\" v-model=\"form.address\" autocomplete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n\n<script>\nimport {serverIp} from \"../../public/config\";\n\nexport default {\n  name: \"Person\",\n  data() {\n    return {\n      serverIp: serverIp,\n      form: {},\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    }\n  },\n  created() {\n    this.getUser().then(res => {\n      console.log(res)\n      this.form = res\n    })\n  },\n  methods: {\n    async getUser() {\n      return (await this.request.get(\"/user/username/\" + this.user.username)).data\n    },\n    save() {\n      this.request.post(\"/user\", this.form).then(res => {\n        if (res.code === '200') {\n          this.$message.success(\"保存成功\")\n\n          // 触发父级更新User的方法\n          this.$emit(\"refreshUser\")\n\n          // 更新浏览器存储的用户信息\n          this.getUser().then(res => {\n            res.token = JSON.parse(localStorage.getItem(\"user\")).token\n            localStorage.setItem(\"user\", JSON.stringify(res))\n          })\n\n        } else {\n          this.$message.error(\"保存失败\")\n        }\n      })\n    },\n    handleAvatarSuccess(res) {\n      this.form.avatarUrl = res\n    }\n  }\n}\n</script>\n\n<style>\n.avatar-uploader {\n  text-align: center;\n  padding-bottom: 10px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 138px;\n  height: 138px;\n  line-height: 138px;\n  text-align: center;\n}\n.avatar {\n  width: 138px;\n  height: 138px;\n  display: block;\n}\n</style>\n"]}]}