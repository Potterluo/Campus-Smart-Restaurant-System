{"remainingRequest":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\springboot+vue\\pure-design-master\\vue\\src\\views\\SubmitForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\springboot+vue\\pure-design-master\\vue\\src\\views\\SubmitForm.vue","mtime":1651922651296},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651840057970},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1651840062270},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651840057970},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1651840061711}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge3NlcnZlcklwfSBmcm9tICIuLi8uLi9wdWJsaWMvY29uZmlnIjsNCmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTdWJtaXRGb3JtIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2VydmVySXA6IHNlcnZlcklwLA0KICAgICAgdXNlcjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXIiKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXIiKSkgOiB7fSwNCiAgICAgIGZvcm06IHsNCiAgICAgICAgY3VzdG9tZXI6ICcnLA0KICAgICAgICBhZGRyZXNzOicnLA0KICAgICAgICBwaG9uZTonJywNCiAgICAgICAgZGVsaXZlcnk6ICfkuKrkurrlj5botKcnLA0KICAgICAgICBnb29kczogJycsDQogICAgICAgIHRhZzon5pyq5a6M5oiQJywNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRVc2VyKCkudGhlbihyZXMgPT4gew0KICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgdGhpcy5mb3JtLmN1c3RvbWVyPXJlcy5uaWNrbmFtZQ0KICAgICAgdGhpcy5mb3JtLmFkZHJlc3M9cmVzLmFkZHJlc3MNCiAgICAgIHRoaXMuZm9ybS5waG9uZT1yZXMucGhvbmUNCiAgICB9KQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25TdWJtaXQoKSB7DQogICAgICBpZih0aGlzLmZvcm0uZ29vZHMpew0KICAgICAgICBpZih0aGlzLmZvcm0uZGVsaXZlcnk9PSfppJDljoXphY3pgIEnKXsNCiAgICAgICAgICB0aGlzLmZvcm0udGFnPSflvoXphY3pgIEnDQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdCEnKTsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5mb3JtKTsNCiAgICAgICAgdGhpcy5zYXZlKCk7DQogICAgICB9ZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fli7/mj5DkuqTnqbrorqLljZUnLA0KICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgIH0sDQogICAgb25DYW5jZWwoKXsNCiAgICAgIHRoaXMuZm9ybS5kZWxpdmVyeT0nJzsNCiAgICAgIHRoaXMuZm9ybS5nb29kcz0nJzsNCiAgICB9LA0KICAgIGFzeW5jIGdldFVzZXIoKSB7DQogICAgICByZXR1cm4gKGF3YWl0IHRoaXMucmVxdWVzdC5nZXQoIi91c2VyL3VzZXJuYW1lLyIgKyB0aGlzLnVzZXIudXNlcm5hbWUpKS5kYXRhDQogICAgfSwNCiAgICBzYXZlKCkgew0KICAgICAgcmVxdWVzdC5wb3N0KCIvZm9ybSIsIHRoaXMuZm9ybSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmj5DkuqTmiJDlip8iKQ0KICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaPkOS6pOWksei0pSIpDQogICAgICAgIH0NCiAgICAgIH0pDQoNCiAgICB9LA0KICB9DQp9DQo="},{"version":3,"sources":["SubmitForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"SubmitForm.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div style=\"width: 500px;margin-left: 350px;font-size: 26px;margin-top: 20px;\r\n    border: #999999 solid 2px;border-radius: 15px;padding: 20px;box-shadow: #999999 10px 10px 30px 5px\">\r\n  <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n    <el-form-item label=\"订购人\">\r\n      <el-input v-model=\"form.customer\" disabled></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"商铺位置\">\r\n      <el-input v-model=\"form.address\" disabled></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"联系方式\">\r\n      <el-input v-model=\"form.phone\" disabled></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"配送方式\">\r\n      <el-select v-model=\"form.delivery\" placeholder=\"请选择配送方式\">\r\n        <el-option label=\"餐厅配送\" value=\"餐厅配送\"></el-option>\r\n        <el-option label=\"个人取货\" value=\"个人取货\"></el-option>\r\n      </el-select>\r\n    </el-form-item>\r\n<!--    <el-form-item label=\"活动时间\">\r\n      <el-col :span=\"11\">\r\n        <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"form.date1\" style=\"width: 100%;\"></el-date-picker>\r\n      </el-col>\r\n      <el-col class=\"line\" :span=\"2\">-</el-col>\r\n      <el-col :span=\"11\">\r\n        <el-time-picker placeholder=\"选择时间\" v-model=\"form.date2\" style=\"width: 100%;\"></el-time-picker>\r\n      </el-col>\r\n    </el-form-item>\r\n    <el-form-item label=\"即时配送\">\r\n      <el-switch v-model=\"form.delivery\"></el-switch>\r\n    </el-form-item>\r\n    <el-form-item label=\"活动性质\">\r\n      <el-checkbox-group v-model=\"form.type\">\r\n        <el-checkbox label=\"美食/餐厅线上活动\" name=\"type\"></el-checkbox>\r\n        <el-checkbox label=\"地推活动\" name=\"type\"></el-checkbox>\r\n        <el-checkbox label=\"线下主题活动\" name=\"type\"></el-checkbox>\r\n        <el-checkbox label=\"单纯品牌曝光\" name=\"type\"></el-checkbox>\r\n      </el-checkbox-group>\r\n    </el-form-item>\r\n    <el-form-item label=\"特殊资源\">\r\n      <el-radio-group v-model=\"form.resource\">\r\n        <el-radio label=\"线上品牌商赞助\"></el-radio>\r\n        <el-radio label=\"线下场地免费\"></el-radio>\r\n      </el-radio-group>\r\n    </el-form-item>-->\r\n    <el-form-item label=\"所需货品\">\r\n      <el-input type=\"textarea\" v-model=\"form.goods\" placeholder=\"格式示例：大米*50Kg；西红柿*10Kg\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item >\r\n      <div style=\"text-align: right\">\r\n        <el-button type=\"primary\" @click=\"onSubmit\">下单</el-button>\r\n        <el-button @click=\"onCancel\">取消</el-button>\r\n      </div>\r\n    </el-form-item>\r\n  </el-form>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {serverIp} from \"../../public/config\";\r\nimport request from \"@/utils/request\";\r\nexport default {\r\n  name: \"SubmitForm\",\r\n  data() {\r\n    return {\r\n      serverIp: serverIp,\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      form: {\r\n        customer: '',\r\n        address:'',\r\n        phone:'',\r\n        delivery: '个人取货',\r\n        goods: '',\r\n        tag:'未完成',\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getUser().then(res => {\r\n      console.log(res)\r\n      this.form.customer=res.nickname\r\n      this.form.address=res.address\r\n      this.form.phone=res.phone\r\n    })\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      if(this.form.goods){\r\n        if(this.form.delivery=='餐厅配送'){\r\n          this.form.tag='待配送'\r\n        }\r\n        console.log('submit!');\r\n        console.log(this.form);\r\n        this.save();\r\n      }else {\r\n        this.$message({\r\n          message: '请勿提交空订单',\r\n          type: 'warning'\r\n        });\r\n      }\r\n\r\n    },\r\n    onCancel(){\r\n      this.form.delivery='';\r\n      this.form.goods='';\r\n    },\r\n    async getUser() {\r\n      return (await this.request.get(\"/user/username/\" + this.user.username)).data\r\n    },\r\n    save() {\r\n      request.post(\"/form\", this.form).then(res => {\r\n        if (res) {\r\n          this.$message.success(\"提交成功\")\r\n          this.dialogFormVisible = false\r\n        } else {\r\n          this.$message.error(\"提交失败\")\r\n        }\r\n      })\r\n\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}