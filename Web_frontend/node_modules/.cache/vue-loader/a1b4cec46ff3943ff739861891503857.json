{"remainingRequest":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\springboot+vue\\pure-design-master\\vue\\src\\views\\BodyTemp.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\springboot+vue\\pure-design-master\\vue\\src\\views\\BodyTemp.vue","mtime":1652162685829},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651840057970},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1651840062270},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651840057970},{"path":"F:\\springboot+vue\\pure-design-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1651840061711}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQm9keVRlbXAiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgZGF0ZTonJywNCiAgICAgIHBhZ2VOdW06IDEsDQogICAgICBwYWdlU2l6ZTogMTAsDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgc2F0OicnLA0KICAgICAgYWxhcm06Ww0KDQogICAgICBdLA0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHRhYmxlUm93Q2xhc3NOYW1lKHJvdykgew0KICAgICAgLypjb25zb2xlLmxvZyhyb3cpKi8NCiAgICAgIGZvcihsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJvdykpew0KICAgICAgICB0aGlzLnNhdD12YWx1ZS5zdGF0dXMNCiAgICAgICAgLyp0aGlzLmFsYXJtPVtdKi8NCiAgICAgICAgaWYodmFsdWUuc3RhdHVzPT09J+W8guW4uCcpew0KICAgICAgICAgIHRoaXMuc2F0PScnDQogICAgICAgICAgaWYodGhpcy5hbGFybS5sZW5ndGg8NSl7DQogICAgICAgICAgICB2YXIgYXJyID0gW10NCiAgICAgICAgICAgIGFyci5wdXNoKHZhbHVlKQ0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgaWYgKHRoaXMuYWxhcm0uaW5kZXhPZihhcnJbaV0pID09PSAtMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuYWxhcm0ucHVzaChhcnJbaV0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuICdkYW5nZXItcm93Jw0KICAgICAgICB9ZWxzZSBpZih2YWx1ZS5zdGF0dXM9PT0n5q2j5bi4Jyl7DQogICAgICAgICAgdGhpcy5zYXQ9JycNCiAgICAgICAgICByZXR1cm4gJ3N1Y2Nlc3Mtcm93Jw0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgdGhpcy5zYXQ9JycNCiAgICAgICAgICByZXR1cm4gJ2luZm8tcm93Jw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICB9LA0KICAgIGxvYWQoKSB7DQogICAgICByZXF1ZXN0LmdldCgiL3RlbXAvcGFnZSIsIHsNCiAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtLA0KICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICB9DQogICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcykNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMucmVjb3Jkcw0KICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZShwYWdlTnVtKSB7DQogICAgICBjb25zb2xlLmxvZyhwYWdlTnVtKQ0KICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZU51bQ0KICAgICAgdGhpcy5sb2FkKCkNCiAgICB9LA0KICAgIGZvcm1hdHRlcmRhdGUocm93LCBjb2x1bW4pew0KICAgICAgbGV0IGRhdGEgPSByb3dbY29sdW1uLnByb3BlcnR5XQ0KICAgICAgaWYoZGF0YSA9PSBudWxsKSB7DQogICAgICAgIHJldHVybiBudWxsDQogICAgICB9DQogICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGRhdGEpOw0KICAgICAgdmFyIG8gPSB7DQogICAgICAgICJNKyIgOiBkYXRlLmdldE1vbnRoKCkrMSwgICAgICAgICAgICAgICAgIC8v5pyI5Lu9DQogICAgICAgICJkKyIgOiBkYXRlLmdldERhdGUoKSwgICAgICAgICAgICAgICAgICAgIC8v5pelDQogICAgICAgICJoKyIgOiBkYXRlLmdldEhvdXJzKCksICAgICAgICAgICAgICAgICAgIC8v5bCP5pe2DQogICAgICAgICJtKyIgOiBkYXRlLmdldE1pbnV0ZXMoKSwgICAgICAgICAgICAgICAgIC8v5YiGDQogICAgICAgICJzKyIgOiBkYXRlLmdldFNlY29uZHMoKSwgICAgICAgICAgICAgICAgIC8v56eSDQogICAgICAgICJxKyIgOiBNYXRoLmZsb29yKChkYXRlLmdldE1vbnRoKCkrMykvMyksIC8v5a2j5bqmDQogICAgICAgICJTIiAgOiBkYXRlLmdldE1pbGxpc2Vjb25kcygpICAgICAgICAgICAgIC8v5q+r56eSDQogICAgICB9Ow0KICAgICAgdmFyIGZtdCA9ICJ5eXl5LU1NLWRkIGhoOm1tOnNzIjsNCiAgICAgIGlmKC8oeSspLy50ZXN0KGZtdCkpIHsNCiAgICAgICAgZm10PWZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKGRhdGUuZ2V0RnVsbFllYXIoKSsiIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7DQogICAgICB9DQogICAgICBmb3IodmFyIGsgaW4gbykgew0KICAgICAgICBpZihuZXcgUmVnRXhwKCIoIisgayArIikiKS50ZXN0KGZtdCkpew0KICAgICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGg9PTEpID8gKG9ba10pIDogKCgiMDAiKyBvW2tdKS5zdWJzdHIoKCIiKyBvW2tdKS5sZW5ndGgpKSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBmbXQgOw0KDQogICAgfQ0KICB9LA0KICBmaWx0ZXJzOiB7DQogICAgLyoqDQogICAgICrmoLzlvI/ljJbml7bpl7TmlofmnKwNCiAgICAgKiBAcGFyYW0ge0RhdGV9IHRpbWUg5pe26Ze0DQogICAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdCDmlofmnKzmoLzlvI8NCiAgICAgKiAgWSDooajnpLrlubTku70NCiAgICAgKiAgTSDooajnpLrmnIjku70NCiAgICAgKiAgRCDooajnpLrmn5Dml6UNCiAgICAgKiAgaCDooajnpLrlsI/ml7YNCiAgICAgKiAgbSDooajnpLrliIYNCiAgICAgKiAgcyDooajnpLrnp5INCiAgICAgKiAgdyDooajnpLrmmJ/mnJ/lh6ANCiAgICAgKi8NCiAgICBmb3JtYXQodGltZSwgZm9ybWF0ID0gJ1lZWVktTU0tREQgSEg6bW06c3MnKSB7DQogICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpDQogICAgICBsZXQgbyA9IHsNCiAgICAgICAgJ00rJzogZGF0ZS5nZXRNb250aCgpICsgMSwNCiAgICAgICAgJ0QrJzogZGF0ZS5nZXREYXRlKCksDQogICAgICAgICdIKyc6IGRhdGUuZ2V0SG91cnMoKSwNCiAgICAgICAgJ20rJzogZGF0ZS5nZXRNaW51dGVzKCksDQogICAgICAgICdzKyc6IGRhdGUuZ2V0U2Vjb25kcygpLA0KICAgICAgICAndyc6ICfml6XkuIDkuozkuInlm5vkupTlha0nLmNoYXJBdChkYXRlLmdldERheSgpKQ0KICAgICAgfTsNCg0KICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoL1l7NH0vLCBkYXRlLmdldEZ1bGxZZWFyKCkpLnJlcGxhY2UoL1l7Mn0vLCBkYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMikpOw0KDQogICAgICBsZXQgaywgcmVnDQogICAgICBmb3IgKGsgaW4gbykgew0KICAgICAgICByZWcgPSBuZXcgUmVnRXhwKGspOw0KICAgICAgICAvKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6MCAqLw0KICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShyZWcsIG1hdGNoKTsNCiAgICAgIH0NCiAgICAgIGZ1bmN0aW9uIG1hdGNoKG0pIHsNCiAgICAgICAgcmV0dXJuIG0ubGVuZ3RoID09PSAxID8gb1trXSA6ICgnMDAnICsgb1trXSkuc3Vic3RyKCgnJyArIG9ba10pLmxlbmd0aCk7DQogICAgICB9DQoNCiAgICAgIHJldHVybiBmb3JtYXQ7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZCgpDQogIH0NCn0NCg=="},{"version":3,"sources":["BodyTemp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BodyTemp.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div>\r\n    <el-row :gutter=\"10\" style=\"margin-bottom: 60px\">\r\n      <el-col :span=\"2\">\r\n        <img src=\"../assets/测温.png\" style=\"width: 100px;margin-top: 10px\">\r\n      </el-col>\r\n\r\n        <el-col :span=\"4\"  v-for=\"(item, index) in alarm\" :key=\"item\">\r\n          <el-card style=\"color: #F56C6C\">\r\n            <div><i class=\"el-icon-money\" /> 异常体温警报</div>\r\n            <div style=\"padding: 10px 0; text-align: center; font-weight: bold\">\r\n              {{item.location}} {{item.temperature}} ℃\r\n            </div>\r\n            <div style=\" text-align: center\" :formatter=\"formatterdate\">\r\n              <div>{{item.time | format('MM月DD日 HH时mm分') }}</div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n\r\n  </el-row>\r\n    <el-row>\r\n      <div style=\"margin-left: 10px\">\r\n        <el-table\r\n            :data=\"tableData\"\r\n            style=\"width: 100%\"\r\n            :row-class-name=\"tableRowClassName\">\r\n          <el-table-column prop=\"id\" label=\"序号\" width=\"100\"></el-table-column>\r\n          <el-table-column prop=\"time\" label=\"测温时间\" width=\"200\" :formatter=\"formatterdate\"></el-table-column>\r\n          <el-table-column prop=\"location\" label=\"测温位置\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"temperature\" label=\"测温数值\" width=\"200\"></el-table-column>\r\n          <el-table-column prop=\"status\" label=\"备注\" ></el-table-column>\r\n        </el-table>\r\n        <div class=\"block\" style=\"text-align: right;margin-top: 5px;margin-right: 80px\">\r\n          <el-pagination\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page.sync=\"currentPage\"\r\n              :page-size=\"pageSize\"\r\n              layout=\"prev, pager, next, jumper\"\r\n              :total=\"total\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n\r\n    </el-row>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nexport default {\r\n  name: \"BodyTemp\",\r\n  data() {\r\n    return {\r\n      currentPage: 1,\r\n      total: 0,\r\n      date:'',\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n      tableData: [],\r\n      sat:'',\r\n      alarm:[\r\n\r\n      ],\r\n    }\r\n  },\r\n  methods: {\r\n    tableRowClassName(row) {\r\n      /*console.log(row)*/\r\n      for(let [key, value] of Object.entries(row)){\r\n        this.sat=value.status\r\n        /*this.alarm=[]*/\r\n        if(value.status==='异常'){\r\n          this.sat=''\r\n          if(this.alarm.length<5){\r\n            var arr = []\r\n            arr.push(value)\r\n            for (var i = 0; i < arr.length; i++) {\r\n              if (this.alarm.indexOf(arr[i]) === -1) {\r\n                this.alarm.push(arr[i])\r\n              }\r\n            }\r\n          }\r\n          return 'danger-row'\r\n        }else if(value.status==='正常'){\r\n          this.sat=''\r\n          return 'success-row'\r\n        }else {\r\n          this.sat=''\r\n          return 'info-row'\r\n        }\r\n      }\r\n\r\n    },\r\n    load() {\r\n      request.get(\"/temp/page\", {\r\n        params: {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n        }\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.tableData = res.records\r\n        this.total = res.total\r\n      })\r\n    },\r\n    handleCurrentChange(pageNum) {\r\n      console.log(pageNum)\r\n      this.pageNum = pageNum\r\n      this.load()\r\n    },\r\n    formatterdate(row, column){\r\n      let data = row[column.property]\r\n      if(data == null) {\r\n        return null\r\n      }\r\n      let date = new Date(data);\r\n      var o = {\r\n        \"M+\" : date.getMonth()+1,                 //月份\r\n        \"d+\" : date.getDate(),                    //日\r\n        \"h+\" : date.getHours(),                   //小时\r\n        \"m+\" : date.getMinutes(),                 //分\r\n        \"s+\" : date.getSeconds(),                 //秒\r\n        \"q+\" : Math.floor((date.getMonth()+3)/3), //季度\r\n        \"S\"  : date.getMilliseconds()             //毫秒\r\n      };\r\n      var fmt = \"yyyy-MM-dd hh:mm:ss\";\r\n      if(/(y+)/.test(fmt)) {\r\n        fmt=fmt.replace(RegExp.$1, (date.getFullYear()+\"\").substr(4 - RegExp.$1.length));\r\n      }\r\n      for(var k in o) {\r\n        if(new RegExp(\"(\"+ k +\")\").test(fmt)){\r\n          fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\r\n        }\r\n      }\r\n      return fmt ;\r\n\r\n    }\r\n  },\r\n  filters: {\r\n    /**\r\n     *格式化时间文本\r\n     * @param {Date} time 时间\r\n     * @param {String} format 文本格式\r\n     *  Y 表示年份\r\n     *  M 表示月份\r\n     *  D 表示某日\r\n     *  h 表示小时\r\n     *  m 表示分\r\n     *  s 表示秒\r\n     *  w 表示星期几\r\n     */\r\n    format(time, format = 'YYYY-MM-DD HH:mm:ss') {\r\n      let date = new Date(time)\r\n      let o = {\r\n        'M+': date.getMonth() + 1,\r\n        'D+': date.getDate(),\r\n        'H+': date.getHours(),\r\n        'm+': date.getMinutes(),\r\n        's+': date.getSeconds(),\r\n        'w': '日一二三四五六'.charAt(date.getDay())\r\n      };\r\n\r\n      format = format.replace(/Y{4}/, date.getFullYear()).replace(/Y{2}/, date.getFullYear().toString().substring(2));\r\n\r\n      let k, reg\r\n      for (k in o) {\r\n        reg = new RegExp(k);\r\n        /* eslint no-use-before-define:0 */\r\n        format = format.replace(reg, match);\r\n      }\r\n      function match(m) {\r\n        return m.length === 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length);\r\n      }\r\n\r\n      return format;\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-table .info-row {\r\n  background: #cccdc8;\r\n}\r\n\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n\r\n.el-table .danger-row {\r\n  background: #fff0f0;\r\n}\r\n\r\n</style>\r\n\r\n"]}]}